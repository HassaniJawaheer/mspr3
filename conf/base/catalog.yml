# Here you can define all your datasets by using simple YAML syntax.
#
# Documentation for this file format can be found in "The Data Catalog"
# Link: https://docs.kedro.org/en/stable/data/data_catalog.html

trained_mode:
type: kedro.mlflow.io.models.MlflowModelLogger
flavor: python_function
artifact_path: data/06_models
signature: auto
input_exemple: null
pip_requirements: requirements.txt

scraping_status:
  type: json.JSONDataset
  filepath: data/00_reporting/scraping_status.json

prestructuring_status:
  type: json.JSONDataset
  filepath: data/00_reporting/prestructuring_status.json

consumption_data:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/eco2mix/definitive/consumption_data.csv

tempo_calendar:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/eco2mix/tempo/tempo_calendar.csv

cleaned_consumption_data:
  type: pandas.CSVDataset
  filepath: data/03_primary/eco2mix/definitive/cleaned_consumption_data.csv

checked_consumption_data:
  type: pandas.CSVDataset
  filepath: data/03_primary/eco2mix/definitive/30min/checked/checked_consumption_data.csv
  load_args:
    index_col: 0
    parse_dates: true
  save_args:
    index: true
  
train_checked_consumption_data:
  type: pandas.CSVDataset
  filepath: data/03_primary/eco2mix/definitive/30min/checked/split/train_checked_consumption_data.csv
  load_args:
    index_col: 0
    parse_dates: true
  save_args:
    index: true

cal_checked_consumption_data:
  type: pandas.CSVDataset
  filepath: data/03_primary/eco2mix/definitive/30min/checked/split/cal_checked_consumption_data.csv
  load_args:
    index_col: 0
    parse_dates: true
  save_args:
    index: true

test_checked_consumption_data:
  type: pandas.CSVDataset
  filepath: data/03_primary/eco2mix/definitive/30min/checked/split/test_checked_consumption_data.csv
  load_args:
    index_col: 0
    parse_dates: true
  save_args:
    index: true

X_train_30min:
  type: MemoryDataset

y_train_30min:
  type: MemoryDataset

model_xgboost_30min:
  type: pickle.PickleDataset
  filepath: data/06_models/eco2mix/xgboost/30min/model.joblib
  versioned: true

train_scores_xgboost_30min:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/30min/scores/train_scores.yml
  versioned: true

metadata_xgboost_30min:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/30min/metadata/train_metadata.yml
  versioned: true

xgboost_optuna_best_params_30min:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/30min/params/best_params.yml

q_inf_xgboost_30min:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/30min/metadata/q_inf.yml
  versioned: true

q_sup_xgboost_30min:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/30min/metadata/q_sup.yml
  versioned: true

test_scores_xgboost_30min:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/30min/scores/test_scores.yml
  versioned: true

cleaned_tempo_calendar:
  type: pandas.CSVDataset
  filepath: data/03_primary/eco2mix/tempo/cleaned_tempo_calendar.csv

tempo_consumption_data:
  type: pandas.CSVDataset
  filepath: data/03_primary/eco2mix/aggregate_minute/tempo_consumption_data.csv
  save_args:
    index: False

tempo_consumption_enriched_data:
  type: pandas.CSVDataset
  filepath: data/03_primary/eco2mix/aggregate_minute/tempo_consumption_enriched_data.csv
  save_args:
    index: False

aggregated_consumption_data:
  type: pandas.CSVDataset
  filepath: data/03_primary/eco2mix/definitive/aggregated_consumption_data.csv

tempo_aggregated_consumption_data:
  type: pandas.CSVDataset
  filepath: data/03_primary/eco2mix/aggregate_day/tempo_aggregated_consumption_data.csv

tempo_aggregated_consumption_enriched_data:
  type: pandas.CSVDataset
  filepath: data/04_feature/eco2mix/day/tempo_aggregated_consumption_enriched_data.csv

X_train_agg_day:
  type: pandas.CSVDataset
  filepath: data/05_model_input/eco2mix/xgboost/day/X_train_agg_day.csv
  versioned: true 
  load_args:
    delimiter: ","
  save_args:
    index: False

X_test_agg_day:
  type: pandas.CSVDataset
  filepath: data/05_model_input/eco2mix/xgboost/day/X_test_agg_day.csv
  versioned: true 
  load_args:
    delimiter: ","
  save_args:
    index: False

y_train_agg_day:
  type: pandas.CSVDataset
  filepath: data/05_model_input/eco2mix/xgboost/day/y_train_agg_day.csv
  versioned: true 
  load_args:
    delimiter: ","
  save_args:
    index: False

y_test_agg_day:
  type: pandas.CSVDataset
  filepath: data/05_model_input/eco2mix/xgboost/day/y_test_agg_day.csv
  versioned: true 
  load_args:
    delimiter: ","
  save_args:
    index: False

xgboost_best_params:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/day/params/best_params.yml
  versioned: true

xgboost_model_artifact_path:
  type: pickle.PickleDataset
  filepath: data/06_models/eco2mix/xgboost/day/model.joblib
  versioned: true

xgboost_training_scores_path:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/day/scores/scores.yml
  versioned: true

xgboost_training_metadata_path:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/day/params/training.yml
  versioned: true

xgboost_crossval_scores:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/day/params/crossval_scores.yml
  versioned: true

xgboost_evaluation_scores:
  type: yaml.YAMLDataset
  filepath: data/07_model_output/eco2mix/xgboost/day/params/evaluation_scores.yml
  versioned: true
